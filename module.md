> 💡 웹 브라우저 환경에서는 ES6 모듈, Node,js에서는 Common.js가 표준

## CommonJS

**CommonJS**는 Node.js 환경에서 자바스크립트 모듈을 사용하기 위해 만들어진 모듈 시스템입니다. 모듈을 외부에서 사용할 수 있도록 내보낼 때 `exports`, `module.exports`와 같은 키워드를 사용하며 외부에서 모듈을 불러올 때는 `require`를 사용합니다.

- `require` 및 `module.exports` 또는 `exports` 객체를 사용하여 정의
- 동기적으로 로딩 → `require` 호출은 모듈이 모두 로드될 때까지 프로그램 실행이 차단됨.
- 런타임에서 동적으로 로드할 수 있으므로 모듈 경로는 변수 또는 조건부 식에 따라 동적으로 생성 가능
- 모듈이 한 번 로드되면 동일한 인스턴스를 반환 → 모듈의 상태가 캡슐화, 싱글 인스턴스로 모듈이 같은 인스턴스 공유

## ES6 module

**ES6**는 `import`, `export`를 이용해 모듈을 불러오고 내보내는 역할을 하는데 모든 브라우저에 호환이 되지 않기 때문에 `babel`과 같은 ES6 코드 변환 도구를 사용할 수 없다면 `require`을 사용해야합니다.

- `import` 와 `export` 문을 사용하여 정의
- 비동기적으로 로딩 → 웹 페이지가 차단되지 않음
- 정적 바인딩을 가지며 모듈 경로는 런타임 동안 변경될 수 없으므로 동적으로 모듈 로드 불가능
- 각 `import` 문이 새로운 인스턴스를 생성 → 다중 인스턴스, 상태를 공유하지 않음
- 트리 쉐이킹을 지원하여 미사용 코드를 번들에 포함하지 않고 제거함 → 번들 크기 최적화, 앱의 성능 향상

### export(내보내기) 차이

- CommonJS : 내보내지는 데이터들을 담고있는 하나의 객체인 `exports` 사용
- ES6 :
  - `named export` : 함수 또는 변수를 내보낼 수 있다.
  - `default export` : 하나의 기본 함수를 내보낼 수 있다.
    (`module.exports` 구문 동작을 대체)

### require & import(불러오기) 차이

**하나의 프로그램에서 두 키워드를 동시에 사용할 수 없음**

- **require()**
  - `CommonJS`를 사용하는 `Node.js`문
  - 파일이 들어있는 곳에 남아있음
  - 프로그램 어느 지점에서나 호출할 수 있음
- **import()**
  - `ES6`에서만 사용함
  - 파일이 들어있는 곳에 남아있는 것이 아닌항상 맨 위로 이동함
  - 일반적으로 파일의 시작 부분에서만 실행 가능(`import` 비동기 문법으로 중간에 모듈 불러오기 가능)
  - 성능이 우수하여 `require()`보다 메모리를 절약함
